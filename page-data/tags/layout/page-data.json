{"componentChunkName":"component---src-templates-blog-tag-list-js","path":"/tags/layout/","result":{"data":{"site":{"siteMetadata":{"title":"CodeSpud"}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"excerpt":"Think of media queries as a bottle filled with different liquids that don‚Äôt mix, like oil and water. The shape and size of the container‚Ä¶","html":"<p>Think of media queries as a bottle filled with different liquids that don‚Äôt mix, like oil and water. The shape and size of the container (bottle) will determine how the content (water/oil) appears. Although liquids have predetermined properties that define how they exist inside the bottle. For example, oil floats because it is lighter than water. Ultimately, liquids are governed by their container, and you can‚Äôt make the oil shaped as a globe float inside the region water occupies.</p>\n<p>But what if you have a glass sphere to contain the oil and then suspend it inside the bottle? That‚Äôs what container queries do for CSS. Container queries become the smaller glass container inside the bottle. Then, your content can follow the rules of that smaller container instead of depending on the rules of one bottle. This will allow you more flexibility in styling layouts.  </p>\n<blockquote>\n<p>Container queries enable you to apply styles to an element based on the size of the element‚Äôs container. If, for example, a container has less space available in the surrounding context, you can hide certain elements or use smaller fonts. </p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries\">MDN: Css Container queries</a></li>\n</ul>\n</blockquote>\n<p>Developers have been searching for a better way to style website elements, especially their positioning on a site. Although media queries are great for setting up page layouts, they are not the best solution for creating reusable, independent, and responsive components. Ideally, we need a UI component that can be placed anywhere on a site, and it would automatically adjust itself based on the configuration of its container. Using the container dimensions instead of the viewport, we can more accurately style an element based on the available space rather than the browser viewport width. In the past, developers had to resort to JavaScript to achieve this functionality, but adding more scripts to a page can be inconvenient and unnecessary. Along comes container queries.</p>\n<h2>How to do container queries</h2>\n<p>There are two steps to making container queries in CSS.</p>\n<ol>\n<li>Set up a container</li>\n<li>Define styles in container query </li>\n</ol>\n<h3>1. Set up a container</h3>\n<p>To start using container queries, we first define a container or wrapper element with a <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/container-type\">container type</a>. </p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.section-container </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container</span><span class=\"token punctuation\">:</span> my-container <span class=\"token operator\">/</span> inline-size<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In the CSS above, we are using the shorthand way of defining a container. The first value is the name we want to identify the container query the second value is the container type. It is equivalent to the CSS below.</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.section-container </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container-name</span><span class=\"token punctuation\">:</span> my-container<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">container-type</span><span class=\"token punctuation\">:</span> inline-size<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>2. Define styles in container query</h3>\n<p>A container query is similar to that a media query. </p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token atrule\"><span class=\"token rule\">@container</span> my-container <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 800px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// style here</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>These are the very minimum things you need to learn to use container queries. There are other things to know <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries#container_query_length_units\">container units</a> - I will leave that for a later post.</p>\n<h2>The experiment</h2>\n<p>To understand container queries better I did made an experiment. My idea was to create a news layout where the content is a bunch of cards with the same markup and content. Depending on how the container is configured the news cards will show in different ways. </p>\n<p>I made a wireframe with the following:</p>\n<ol>\n<li>Full-width hero card on top</li>\n<li>A medium-sized news card </li>\n<li>A news list with multiple content</li>\n<li>A grid with multiple contents</li>\n</ol>\n<img src=\"/blog/container-experiment.png\" alt=\"wireframe of news layout\">\n<p>I‚Äôve configured the cards in the wireframe to show in different styles. For the full-width top section ‚Äústage‚Äù, I want the card to show as a hero element. In the medium ‚Äústage‚Äù, the card would look like a wide news card. With the news list stage, I placed multiple cards that will show as a text list with no images. In the final grid ‚Äústage‚Äù, I wanted to show a news grid with multiple cards. </p>\n<p>Also not to forget, on smaller screens(e.g. mobile) all the cards will show as one column card grid.</p>\n<p>Remember that all these cards have the same markup. Imagine you have a server-side rendered(SSR) endpoint that returns an array of cards with similar markup sorted by descending date(e.g news post). Then you just drop all this content in different containers until you fill the layout. No need to cherry pick the data and render to different locations. </p>\n<p>Check the pen here for a demo.  </p>\n<p><a href=\"https://codepen.io/chrisbautista/pen/vYaxdXr\"><div><iframe \n        height='400' \n        scrolling='no' \n        src='//codepen.io/chrisbautista/embed/preview/vYaxdXr/?height=400&theme-id=dark&default-tab=html,result' \n        frameborder='no' \n        allowtransparency='true' \n        allowfullscreen='true' \n        style='width: 100%;'></iframe></div></a></p>\n<h2>What I learned</h2>\n<p>Doing the experiment I learned a few things. It is easy to start using container query after you get through the initial confusion in learning to think in containers.  Once you get used to thinking in container queries you‚Äôll be amazed. I was thinking it would be great if we had this a decade ago when we were building our layout editor.üòÄ</p>\n<p>You are not limited to querying width. If we use <code class=\"language-text\">container-type: size</code> we can use the container height when defining a container query block. Using height opens up more possibilities when doing layouts. For example, I made the news list text wall by using the height of the container to tell the news card to only render the text and hide the images. In some way, I made my news cards smarter. Before the container query era, I had to do some complicated CSS class combinations to achieve the same thing or worse yet use JavaScript.  </p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token selector\">.stage </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container-name</span><span class=\"token punctuation\">:</span> stage<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">container-type</span><span class=\"token punctuation\">:</span> size<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@container</span> stage <span class=\"token punctuation\">(</span>width <span class=\"token operator\">></span> 768px<span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> <span class=\"token punctuation\">(</span>height = 1000px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.card </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span>100% <span class=\"token operator\">/</span> 3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Wrapping up</h2>\n<p>Container queries are another great tool in a web developer‚Äôs toolbelt. I would recommend spending some time learning the basics and how it interacts with layout-specific CSS like flexbox and grids. I would also suggest spending time learning the differences between container types and how to use container units. </p>\n<p>Cheers!</p>","fields":{"slug":"/2023/using-container-queries-news-layout/"},"frontmatter":{"date":"February 24, 2023","title":"Using Container Queries to Make a News Layout","featured_image":"/blog/artur-lysyuk-bottles-unsplash.jpg","tags":["css","layout","frontend"]}}}]}},"pageContext":{"tag":"layout"}},"staticQueryHashes":["2139210123","63159454"]}