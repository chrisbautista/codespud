<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.56280c71f4bfb1be2ce2.css">@import url(https://fonts.googleapis.com/css?family=Montserrat|Raleway);body{font-family:Raleway,sans-serif;line-height:1.6;color:#333;font-size:16px;background-color:#fefefe}p{margin-bottom:1.25em}h1,h2,h3,h4,h5{margin:2.75rem 0 1rem;font-family:Montserrat,sans-serif;font-weight:400;line-height:1.15;color:#062f4f}h1{margin-top:0;font-size:4.209em}h2{font-size:3.157em}h3{font-size:2.369em}h4{font-size:1.777em}h5{font-size:1.333em}.text_small,small{font-size:.75em}a{text-decoration:none;font-weight:600}a,a:active,a:visited{color:#062f4f}a:hover{text-decoration:underline}td,th{border:1px solid #ddd;padding:2px}th{border:1px solid #777;background-color:#062f4f;font-weight:700;color:snow;padding:3px}li{margin-left:-1rem}img{max-width:100%;height:auto;margin:3rem auto;display:inline-block}@media screen and (max-width:768px){body{font-size:16px}h1{margin-top:0;font-size:2.52em}h2{font-size:1.841em}h3{font-size:1.253em}h4{font-size:1.63em}h5{font-size:.85em}code,code[class*=language-],pre,pre[class*=language-]{font-size:.875rem!important;word-break:break-word}p{word-break:break-word}img{width:100%;margin:3rem auto}}blockquote{background-color:#ffeedf;margin:3rem 0;padding:2rem;border-left:5px solid #999}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.23.11"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><style data-styled="cCzMhA grtOle gCyUE hXSNwJ vYhRt GkLvZ jyrGzP cGaIjz bIpGMj bQGsFo gLYHYk fEPaRT jKcivw kNXYIZ kzEudN jQSaUq iKFggn kCDIGV esjjLi hVafxe" data-styled-version="4.4.1">
/* sc-component-id: container__Container-sc-6g0gtz-0 */
.cGaIjz{margin:0 auto;padding:0 15%;max-width:960px;} @media screen and (max-width:959px){.cGaIjz{padding:0 5%;}} @media screen and (max-width:767px){.cGaIjz{padding:0 1rem;}}
/* sc-component-id: menu__MainMenu-sc-3tjk5t-0 */
.gCyUE{float:right;} @media screen and (max-width:768px){.gCyUE{float:unset;}}
/* sc-component-id: menu__MenuLink-sc-3tjk5t-1 */
.GkLvZ{border-bottom:none;}
/* sc-component-id: menu__NavUl-sc-3tjk5t-2 */
.hXSNwJ{list-style:none;display:inline-block;margin:0;padding:0;} @media screen and (max-width:768px){.hXSNwJ{display:block;width:100%;padding:0;}}
/* sc-component-id: menu__NavLi-sc-3tjk5t-3 */
.vYhRt{list-style:none;display:inline-block;padding:5px 0 5px 2rem;margin-bottom:0;text-align:right;} @media screen and (max-width:768px){.vYhRt{width:calc(100% - 1rem);border-bottom:1px solid #999;font-size:1.2rem;padding:5px 1rem 5px 0;margin:0;}}
/* sc-component-id: bio__BioImage-dqgn4i-0 */
.kzEudN{clear:both;float:left;margin-right:10px;border-radius:30px;width:25px;height:25px;} .kzEudN img{margin:0;} .kzEudN pic img{margin:0;}
/* sc-component-id: bio__BioContainer-dqgn4i-1 */
.jKcivw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}
/* sc-component-id: bio__SocialAnchor-dqgn4i-2 */
.iKFggn{box-shadow:none;display:inline-block;margin:0 5px;}
/* sc-component-id: bio__WrittenBy-dqgn4i-3 */
.kNXYIZ{text-align:left;font-size:1rem;}
/* sc-component-id: bio__SocialIcons-dqgn4i-4 */
.jQSaUq{vertical-align:middle;}
/* sc-component-id: layout__PageWrapper-sc-1xvv2zr-0 */
.cCzMhA{color:#333;}
/* sc-component-id: layout__Header-sc-1xvv2zr-1 */
.grtOle{margin:0 auto;-webkit-text-decoration:none;text-decoration:none;margin-bottom:4rem;max-width:960px;} @media screen and (max-width:768px){.grtOle{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;}}
/* sc-component-id: layout__H1-sc-1xvv2zr-2 */
.jyrGzP{margin-top:1rem;}
/* sc-component-id: layout__Footer-sc-1xvv2zr-3 */
.kCDIGV{margin-top:4em;border-top:1px solid #ddd;padding:2em 0;font-size:1em;color:#666;background-color:#dfdfdf;}
/* sc-component-id: layout__FooterColumn-sc-1xvv2zr-4 */
.esjjLi{margin:0 auto;padding:30px 15%;text-align:left;} @media screen and (max-width:768px){.esjjLi{padding:0 10px;}}
/* sc-component-id: layout__CopyRight-sc-1xvv2zr-5 */
.hVafxe{margin:0 auto;padding:30px 15%;text-align:left;font-size:0.875rem;padding-bottom:0;} @media screen and (max-width:768px){.hVafxe{padding:0 10px;}}
/* sc-component-id: layout__Main-sc-1xvv2zr-6 */
.bIpGMj{min-height:400px;}
/* sc-component-id: blog-post__PaginationNav-sc-1993m0e-0 */
.fEPaRT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;list-style:none;padding:0;margin-left:1rem;} @media screen and (max-width:900px){.fEPaRT{display:block;padding:0.5rem 0.5rem 1rem;text-align:center;margin:0;}.fEPaRT li{display:block;padding:0.4rem 0;margin:0.3rem 0 0;}}
/* sc-component-id: blog-post__PostTitle-sc-1993m0e-1 */
.gLYHYk{text-align:center;margin:3rem 0 3rem;} .gLYHYk .date{font-size:0.875rem;}
/* sc-component-id: blog-post__MetaDiv-sc-1993m0e-3 */
.bQGsFo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:Montserrat;font-size:0.875rem;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#e8b95c"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=271105adf541d28be4b9e0ee3c7cdd6e"/><title data-react-helmet="true">How to Write a Backup Shell Script using Tar and Gnu Zip | CodeSpud</title><meta data-react-helmet="true" name="description" content="Happy New Year! As promised I made a rudimentary Linux shell script utilizing the tar and gzip commands to archive or make backups. If you’re new to shell scripting you might like to read this articles. http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml http://tldp.org/LDP/abs/html/ If you’re lazy like I am. Don’t worry I’ll explain parts of the code."/><meta data-react-helmet="true" property="og:title" content="How to Write a Backup Shell Script using Tar and Gnu Zip"/><meta data-react-helmet="true" property="og:description" content="Happy New Year! As promised I made a rudimentary Linux shell script utilizing the tar and gzip commands to archive or make backups. If you’re new to shell scripting you might like to read this articles. http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml http://tldp.org/LDP/abs/html/ If you’re lazy like I am. Don’t worry I’ll explain parts of the code."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@codespud"/><meta data-react-helmet="true" name="twitter:title" content="How to Write a Backup Shell Script using Tar and Gnu Zip"/><meta data-react-helmet="true" name="twitter:description" content="Happy New Year! As promised I made a rudimentary Linux shell script utilizing the tar and gzip commands to archive or make backups. If you’re new to shell scripting you might like to read this articles. http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml http://tldp.org/LDP/abs/html/ If you’re lazy like I am. Don’t worry I’ll explain parts of the code."/><link as="script" rel="preload" href="/webpack-runtime-dcd9770aa1a8da912a27.js"/><link as="script" rel="preload" href="/framework-93d3a746c3cf42acdafc.js"/><link as="script" rel="preload" href="/styles-f7a64dad1c13bebc31fd.js"/><link as="script" rel="preload" href="/app-dd64f9130299a1b2ce4c.js"/><link as="script" rel="preload" href="/cb1608f2-c7493415330d2b3e29e1.js"/><link as="script" rel="preload" href="/a9a7754c-5e8ad0fddc11342d10b9.js"/><link as="script" rel="preload" href="/e39e4457f0e225773b8873f09a12ae7387ac120c-10ff8e6c8c8d2a0157d6.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-5910acd02d1d53eb855d.js"/><link as="fetch" rel="preload" href="/page-data\how-to-write-a-backup-shell-script-using-tar-and-gnu-zip\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout__PageWrapper-sc-1xvv2zr-0 cCzMhA"><header class="layout__Header-sc-1xvv2zr-1 grtOle"><div class="menu__MainMenu-sc-3tjk5t-0 gCyUE"><nav><ul class="menu__NavUl-sc-3tjk5t-2 hXSNwJ"><li class="menu__NavLi-sc-3tjk5t-3 vYhRt"><a alt="Codespud" class="menu__MenuLink-sc-3tjk5t-1 GkLvZ" href="/">Home</a></li><li class="menu__NavLi-sc-3tjk5t-3 vYhRt"><a alt="Portfolio" class="menu__MenuLink-sc-3tjk5t-1 GkLvZ" href="/works">Portfolio</a></li><li class="menu__NavLi-sc-3tjk5t-3 vYhRt"><a alt="About" class="menu__MenuLink-sc-3tjk5t-1 GkLvZ" href="/about-me">About</a></li></ul></nav></div><h1 class="layout__H1-sc-1xvv2zr-2 jyrGzP"><a href="/">CodeSpud</a></h1></header><div class="container__Container-sc-6g0gtz-0 cGaIjz"><main class="layout__Main-sc-1xvv2zr-6 bIpGMj"><div class="blog-post__MetaDiv-sc-1993m0e-3 bQGsFo"><span><a href="/" alt="Home">Home</a> <!-- -->&gt;<!-- --> <!-- -->How to Write a Backup Shell Script using Tar and Gnu Zip</span></div><h1 class="blog-post__PostTitle-sc-1993m0e-1 gLYHYk">How to Write a Backup Shell Script using Tar and Gnu Zip<p class="date">January 02, 2009</p></h1><div></div><div><p>Happy New Year!</p>
<p>As promised I made a rudimentary Linux shell script utilizing the tar and gzip commands to archive or make backups. If you’re new to shell scripting you might like to read this articles.</p>
<p><a href="http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml">http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml</a><br>
<a href="http://tldp.org/LDP/abs/html/">http://tldp.org/LDP/abs/html/</a></p>
<p>If you’re lazy like I am. Don’t worry I’ll explain parts of the code.</p>
<!--more-->
<p>Our goal is to make a shell script to create backups (in tar-gzip versions) of the folders we want unto a safe location on a disk. We want to be able to list all the folders and have the script loop through them. Now that’s settled, we can proceed to the code.<!--more--></p>
<p>First, don’t forget to tell linux what scripting interpreter to use. I usually use <span style="font-style: italic;">sh</span> but there are others like <span style="font-style: italic;">bash and ksh</span>. But many experts suggest to use sh for portability to older systems.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span></code></pre></div>
<p>Next, we configure the script. The lines below enumerates the folders I want archived ,then stores them in a SHELL VARIABLE named FOLDERS. (duhh!..)</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># — LIST OF FILES/FOLDERS TO BACKUP</span>
<span class="token assign-left variable">FOLDERS</span><span class="token operator">=</span>”/var/www/html /opt/sandbox”</code></pre></div>
<p>This line saves the folder path I want the archives to be stored in.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># — BACKUP HERE</span>
<span class="token assign-left variable">BACKUPFOLDER</span><span class="token operator">=</span>”/opt/backup”</code></pre></div>
<p><em>REMINDER</em><br>
Make sure that the backup folder exist. If it doesn’t run the lines below on the console.</p>
<div style="background-color: green; color: white; padding: 10px;">
  > mkdir /opt/backup<br /> > chown root:root /opt/backup<br /> > chmod 755 /opt/backup
</div>
<p>Here I configure the command string I want to use. Regarding the details of the command I used – see this <a href="http://potatokorner.blogspot.com/2008/12/linux-snippet-backup-using-tar-and-gzip.html">[link]</a>.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># — ARCHIVE COMMAND</span>
<span class="token assign-left variable">COMPRESSCMD</span><span class="token operator">=</span>”tar czfv “</code></pre></div>
<p>Here we use the <span style="font-style: italic;">for</span> command to loop through all the items we listed in <span style="font-style: italic;">$FOLDERS</span> and store it in another variable, <span style="font-style: italic;">$itm</span>.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment">## loop thru folders</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">itm</span> <span class="token keyword">in</span> <span class="token variable">$FOLDERS</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
<span class="token comment"># commands here</span>
….
<span class="token keyword">done</span></code></pre></div>
<p>These lines configures the commands we’re going to use inside the loop. The first line generates a formatted file path for my archive, $FARCHIVE.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">FARCHIVE</span><span class="token operator">=</span><span class="token variable">$BACKUPFOLDER</span>/<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $itm<span class="token variable">`</span></span>_<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -n<span class="token variable">`</span></span>_<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%F<span class="token variable">`</span></span>.tgz
<span class="token variable">$COMPRESSCMD</span> <span class="token variable">$FARCHIVE</span> <span class="token variable">$itm</span></code></pre></div>
<p>If you’ve noticed I used the tilde symbol(`). Yes they are not single quotation marks. In linux console, any commands enclosed within tildes are ran first and the result is returned as a string. So for example <span style="font-style: italic;">$itm</span> is equal to <span style="font-style: italic;">/var/www/html</span>. The resulting FARCHIVE value will be:</p>
<div style="background-color: green; color: white; padding: 10px;">
  > echo $FARCHIVE<br /> /opt/backup/html_potato_2009-01-02.tgz
</div>
<p>The second line uses $FARCHIVE as well as the command we configured earlier and runs it.</p>
<p>For a breakdown of the enclosed commands we used.</p>
<p>echo the last(base) name in a path string.</p>
<div style="background-color: green; color: white; padding: 10px;">
  > basename /var/www/html<br /> html
</div>
<p>echo the system’s computer name.</p>
<div style="background-color: green; color: white; padding: 10px;">
  > uname -n<br /> potato
</div>
<p>echo the current date in this format (YYYY-MM-DD)</p>
<div style="background-color: green; color: white; padding: 10px;">
  > date +%F<br /> 2009-01-02
</div>
<p>Here is the full script.</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span>
<span class="token comment">#set -x</span>
<span class="token comment">#——————————————–</span>
<span class="token comment"># ID: cabBackup.sh – BACKUP items to folder</span>
<span class="token comment"># USAGE: ./cabBackup.sh</span>
<span class="token comment">#——————————————–</span>
<span class="token comment"># AUTHOR: codespud 2008-2009</span>
<span class="token comment"># VERSION: 0.01</span>

<span class="token comment"># TODO: arguments</span>
<span class="token comment"># TODO: config file</span>
<span class="token comment"># TODO: functions</span>
<span class="token comment"># TODO: filtering</span>

<span class="token comment"># Sources</span>
<span class="token comment"># http://www.hsrl.rutgers.edu/ug/shell_help.html</span>

<span class="token comment"># PATH</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/opt/bin:/usr/bin:/bin<span class="token punctuation">;</span> <span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span>

<span class="token comment"># CONFIG</span>

<span class="token comment"># — LIST OF FILES/FOLDERS TO BACKUP if not specified via console</span>

<span class="token assign-left variable">FOLDERS</span><span class="token operator">=</span>”/var/www/html /opt/sandbox”
<span class="token comment">#FOLDERS=””</span>

<span class="token comment"># — BACKUP HERE</span>
<span class="token assign-left variable">BACKUPFOLDER</span><span class="token operator">=</span>”/opt/backup”

<span class="token comment"># — ARCHIVE COMMAND</span>
<span class="token assign-left variable">COMPRESSCMD</span><span class="token operator">=</span>”tar czfv ”

<span class="token comment"># — DO NOT EDIT BEYOND THIS LINE (unless if you knw what ur doing ;] ) —</span>

<span class="token comment"># Check if the folder exists if not make it</span>
<span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token variable">$BACKUPFOLDER</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p <span class="token variable">$BACKUPFOLDER</span> <span class="token operator">||</span> <span class="token builtin class-name">:</span>

<span class="token function">chown</span> root:root <span class="token variable">$BACKUPFOLDER</span>
<span class="token function">chmod</span> <span class="token number">755</span> <span class="token variable">$BACKUPFOLDER</span>

<span class="token comment"># clean the screen</span>
<span class="token function">clear</span>

<span class="token builtin class-name">echo</span> lets start

<span class="token comment">## loop thru folders</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">itm</span> <span class="token keyword">in</span> <span class="token variable">$FOLDERS</span><span class="token punctuation">;</span> <span class="token keyword">do</span>

<span class="token assign-left variable">FARCHIVE</span><span class="token operator">=</span><span class="token variable">$BACKUPFOLDER</span>/<span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $itm<span class="token variable">`</span></span>_<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -n<span class="token variable">`</span></span>_<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%F<span class="token variable">`</span></span>.tgz
<span class="token variable">$COMPRESSCMD</span> <span class="token variable">$FARCHIVE</span> <span class="token variable">$itm</span>

<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token punctuation">..</span> <span class="token keyword">done</span></code></pre></div>
<p>Now name and save the file. I named mine <span style="font-weight: bold;"><span style="font-style: italic;">cabBackup.sh</span></span>.</p>
<p>You need to make the script executable.</p>
<div style="background-color: green; color: white; padding: 10px;">
  > chmod 755 ./cabBackup.sh
</div>
<p>There you have it just run it from the console.</p>
<div style="background-color: green; color: white; padding: 10px;">
  > ./cabBackup.sh
</div>
<p>There are still some things we need to do to make it a fully fledged automation script like configuration files, some pre-process commands and error trapping. But what we have now serves our purpose very well. I’ll post revisions of this script so watch for that.</p>
<p>Links<br>
<a href="http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml">http://www.dartmouth.edu/~rc/classes/ksh/print_pages.shtml</a><br>
<a href="http://tldp.org/LDP/abs/html/">http://tldp.org/LDP/abs/html/</a><br>
<a href="http://potatokorner.blogspot.com/2008/12/linux-snippet-backup-using-tar-and-gzip.html">Linux: Snippet – Backup using Tar and gzip</a></p></div><hr/><ul class="blog-post__PaginationNav-sc-1993m0e-0 fEPaRT"><li><a rel="next" href="/m-i-stupid/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg> <!-- -->M I STUPID?</a></li><li><a rel="prev" href="/linux-snippet-backup-using-tar-and-gzip/">Linux: Snippet – Backup using Tar and gzip<!-- --> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-right" class="svg-inline--fa fa-arrow-right fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg></a></li></ul></main><div style="justify-content:flex-end" class="bio__BioContainer-dqgn4i-1 jKcivw"><div class="bio__WrittenBy-dqgn4i-3 kNXYIZ"><div class="bio__BioImage-dqgn4i-0 kzEudN gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:25px;height:25px"><img aria-hidden="true" src="data:image/png;base64,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" alt="@codespud" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/271105adf541d28be4b9e0ee3c7cdd6e/b5811/profile.png 1x,
/static/271105adf541d28be4b9e0ee3c7cdd6e/33eba/profile.png 1.5x,
/static/271105adf541d28be4b9e0ee3c7cdd6e/8ba1e/profile.png 2x" /><img loading="lazy" width="25" height="25" srcset="/static/271105adf541d28be4b9e0ee3c7cdd6e/b5811/profile.png 1x,
/static/271105adf541d28be4b9e0ee3c7cdd6e/33eba/profile.png 1.5x,
/static/271105adf541d28be4b9e0ee3c7cdd6e/8ba1e/profile.png 2x" src="/static/271105adf541d28be4b9e0ee3c7cdd6e/b5811/profile.png" alt="@codespud" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div>Written by <strong>@codespud</strong>  </div><div class="bio__SocialIcons-dqgn4i-4 jQSaUq"><a href="https://twitter.com/chrisbautista" title="chrisbautista" style="color:#1b91db" class="bio__SocialAnchor-dqgn4i-2 iKFggn"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://www.linkedin.com/in/cabautista/" title="https://www.linkedin.com/in/cabautista/" style="color:#283e4b" class="bio__SocialAnchor-dqgn4i-2 iKFggn"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://github.com/chrisbautista" title="https://github.com/chrisbautista" style="color:#333" class="bio__SocialAnchor-dqgn4i-2 iKFggn"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></div><footer class="layout__Footer-sc-1xvv2zr-3 kCDIGV"><p class="layout__FooterColumn-sc-1xvv2zr-4 esjjLi">DISCLAIMER This is my personal weblog and learning tool. The content within it is exactly that – personal. The views and opinions expressed on the posts and the comments I make on this Blog represent my own and not those of people, institutions or organisations I am affiliated with unless stated explicitly. My Blog is not affiliated with, neither does it represent the views, position or attitudes of my employer, their clients, or any of their affiliated companies.</p><p class="layout__FooterColumn-sc-1xvv2zr-4 layout__CopyRight-sc-1xvv2zr-5 hVafxe">© 2006 - <!-- -->2020<!-- -->, Copyright - codespud.com</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-54548746-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/how-to-write-a-backup-shell-script-using-tar-and-gnu-zip/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-dd64f9130299a1b2ce4c.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d731f33f2b184998b449.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c1bbced2891a459830e0.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-c0ce0259bcf6db16e546.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-5910acd02d1d53eb855d.js"],"component---src-templates-works-list-js":["/component---src-templates-works-list-js-ad0c0c15f30dd6d71a3b.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-5910acd02d1d53eb855d.js" async=""></script><script src="/e39e4457f0e225773b8873f09a12ae7387ac120c-10ff8e6c8c8d2a0157d6.js" async=""></script><script src="/a9a7754c-5e8ad0fddc11342d10b9.js" async=""></script><script src="/cb1608f2-c7493415330d2b3e29e1.js" async=""></script><script src="/app-dd64f9130299a1b2ce4c.js" async=""></script><script src="/styles-f7a64dad1c13bebc31fd.js" async=""></script><script src="/framework-93d3a746c3cf42acdafc.js" async=""></script><script src="/webpack-runtime-dcd9770aa1a8da912a27.js" async=""></script></body></html>